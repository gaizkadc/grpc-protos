//
// Copyright (C) 2018 Daisho Group - All Rights Reserved
//

syntax = "proto3";

package conductor;
option go_package = "github.com/nalej/grpc-conductor-go";

// DeploymentRequest contains all the information required by conductor to start a deployment.
message DeploymentRequest {
    string request_id = 1;
    float cpu = 2;
    float memory = 3;
    float disk = 4;
}

// Deployment response has the resulting execution of a deployment process.
message DeploymentResponse {
    string request_id = 1;
    enum DeploymentStatus {
        QUEUED = 0;
        PLANNING = 1;
        SCHEDULED = 2;
        DEPLOYING = 3;
        RUNNING = 4;
        INCOMPLETE = 5;
        PLANNING_ERROR = 6;
        DEPLOYMENT_ERROR = 7;
        ERROR = 8;
    }
    DeploymentStatus status = 2;
}

// Request for a cluster to evaluate a set of requirements
message ClusterScoreRequest {
    string request_id = 1;
    float   cpu = 2;
    float   memory = 3;
    float   disk = 4;

}

message ClusterScoreResponse {
    string request_id = 1;
    string cluster_id = 2;
    float score = 3;
}